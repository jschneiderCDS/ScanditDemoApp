<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                 xmlns:zoft="http://zoft.MauiExtensions/Controls"  
                 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"       
                 xmlns:vm="clr-namespace:ScanditDemoApp.ViewModel" 
                 xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
                 xmlns:scandit="clr-namespace:Scandit.DataCapture.Barcode.Spark.UI.Maui;assembly=ScanditBarcodeCaptureMaui"
                 x:Class="ScanditDemoApp.ScanningPopup"
                 x:DataType="vm:ScanningPopupViewModel"
                 x:Name="Page"
                 Loaded="Page_Loaded"
                 Unloaded="Page_Unloaded"     
                 Style="{StaticResource Popup}">
    <AbsoluteLayout>
        <Grid 
            AbsoluteLayout.LayoutBounds="0,0,1,1"
            AbsoluteLayout.LayoutFlags="All"
            Padding="20"
            ColumnSpacing="5"
            RowSpacing="5"
            RowDefinitions="Auto, Auto">
            <Label 
                Grid.Row="0"
                Style="{StaticResource SubHeadline}"
                Text="{Binding LastScannedBarcode}"/>
            <Button 
                Grid.Row="2"
                Text="Close Popup"
                Command="{Binding ClosePopupCommand}">
            </Button>
        </Grid>
        <scandit:SparkScanView
            x:Name="SparkScanView"
            AbsoluteLayout.LayoutBounds="0,0,1,1"
            AbsoluteLayout.LayoutFlags="All"
            DataCaptureContext="{Binding DataCaptureContext}"
            SparkScan="{Binding SparkScan}"
            SparkScanViewSettings="{Binding ViewSettings}"/>
    </AbsoluteLayout>
</ContentView>